# ğŸŒ™ PIVOT LUNA - RÃ©capitulatif Complet

> Transformation d'Astro.IA en LUNA - Cycle & Cosmos

**Date :** 9 novembre 2025  
**Statut :** âœ… PrÃ©paration terminÃ©e, prÃªt pour Sprint 9

---

## ğŸ¯ DÃ©cision StratÃ©gique

**VALIDÃ‰ :** Pivot complet vers **LUNA - Cycle & Cosmos**

### Pourquoi ce pivot ?
- ğŸ‡«ğŸ‡· **MarchÃ© franÃ§ais inexploitÃ©** : ZÃ©ro concurrent direct sur cycle + astrologie
- ğŸ” **RÃ©tention forte** : Tracking quotidien = habit building
- ğŸ’° **MonÃ©tisation claire** : Freemium 4,99â‚¬/mois
- ğŸ¯ **Audience dÃ©finie** : Femmes 16-45 ans, wellness + spiritualitÃ©
- âš¡ **Innovation** : PremiÃ¨re app combinant cycle menstruel + transits lunaires + thÃ¨me natal

---

## ğŸ“¦ Ce qui a Ã©tÃ© prÃ©parÃ©

### âœ… Documentation complÃ¨te

1. **README.md** (mis Ã  jour)
   - Version 2.0.0 avec tous les sprints
   - FonctionnalitÃ© Cycle & Astrologie en vedette
   - Architecture complÃ¨te
   - 15,000+ lignes de code documentÃ©es

2. **VISION_MACRO.md** (nouveau)
   - Analyse de toutes les fonctionnalitÃ©s
   - Recommandations GARDER/AMÃ‰LIORER/RETIRER
   - Focus sur Cycle & Astrologie comme pivot
   - 2 options stratÃ©giques (Option A recommandÃ©e)

3. **SPRINT_PLAN.md** (nouveau) ğŸ¯
   - 4 sprints dÃ©taillÃ©s (9-12)
   - 50+ user stories avec critÃ¨res d'acceptation
   - Timeline : 4-6 semaines jusqu'Ã  beta
   - KPIs Ã  suivre
   - Tests Ã  Ã©crire

4. **DISCLAIMER.md** (nouveau)
   - Avertissement mÃ©dical complet
   - Usage recommandÃ© vs non recommandÃ©
   - Protection lÃ©gale
   - Transparence IA

5. **DATA_POLICY.md** (nouveau)
   - Politique de confidentialitÃ© RGPD
   - Quelles donnÃ©es collectÃ©es
   - Comment protÃ©gÃ©es
   - Droits utilisateurs (export, suppression)
   - ConformitÃ© europÃ©enne

6. **README_Analytics.md** (nouveau)
   - Guide complet Mixpanel
   - 9 Ã©vÃ©nements standardisÃ©s
   - Exemples d'utilisation
   - Dashboards Ã  crÃ©er

7. **FEATURE_CYCLE_ASTRO.md** (dÃ©jÃ  existant)
   - Guide complet de la fonctionnalitÃ© principale
   - Tests Ã  faire
   - MarchÃ© cible

---

### âœ… Code preparÃ©

8. **lib/analytics.js** (nouveau)
   - Module Mixpanel centralisÃ©
   - 9 Ã©vÃ©nements trackÃ©s :
     - `onboarding_completed`
     - `journal_entry_created`
     - `ai_message_sent`
     - `ai_message_received`
     - `cycle_phase_changed`
     - `dashboard_opened`
     - `export_pdf`
     - `subscription_upgraded`
     - `app_open`
   - PrÃªt Ã  utiliser partout

---

### âœ… TODOs crÃ©Ã©s

9. **Sprint 9 TODOs** (10 tÃ¢ches)
   - Onboarding complet
   - Settings complet
   - Export donnÃ©es
   - Notifications push
   - Soft rebrand LUNA
   - Analytics intÃ©grÃ©
   - Tests Jest
   - Flows Maestro
   - Disclaimers affichÃ©s
   - QA iOS + Android

---

## ğŸ—ºï¸ Roadmap ValidÃ©e

### Sprint 9 : Onboarding & Settings (11-17 nov)
**Objectif :** ExpÃ©rience d'accueil parfaite + ParamÃ¨tres complets

**Livrables :**
- âœ… Onboarding 6 Ã©crans
- âœ… Settings 5 sections
- âœ… Export JSON/PDF
- âœ… Notifications setup
- âœ… Branding LUNA visible
- âœ… Analytics Mixpanel actif

---

### Sprint 10 : Dashboard & Graphiques (18-24 nov)
**Objectif :** Visualiser les corrÃ©lations cycle-humeur-transits

**Livrables :**
- âœ… Home "Aujourd'hui" refonte
- âœ… Graphiques 30j/90j (mood vs cycle)
- âœ… Calendrier cycle visuel
- âœ… Insights IA automatiques
- âœ… Auto-tagging journal

---

### Sprint 11 : Polish & QA (25 nov - 8 dÃ©c)
**Objectif :** StabilitÃ© et expÃ©rience parfaite

**Livrables :**
- âœ… IA spÃ©cialisÃ©e cycle
- âœ… AccessibilitÃ© A11y
- âœ… Performance 60fps
- âœ… Sentry monitoring
- âœ… Tests coverage >70%
- âœ… QA manuelle complÃ¨te

---

### Sprint 12 : Beta & Go-to-Market (9-22 dÃ©c)
**Objectif :** Lancer beta publique

**Livrables :**
- âœ… Builds EAS production
- âœ… TestFlight + Play Store beta
- âœ… Landing page
- âœ… Assets store
- âœ… Communication lancÃ©e
- âœ… 50+ beta testers

---

## ğŸ“Š KPIs de SuccÃ¨s

### Activation
- ComplÃ©tion onboarding : **>85%**
- Temps onboarding : **<3 min**

### Engagement
- DAU/MAU : **>30%**
- Journaux/semaine : **>3**
- Messages IA/semaine : **>2**

### RÃ©tention
- D1 : **>60%**
- D7 : **>35%**
- D30 : **>18%**

### MonÃ©tisation
- Conversion premium : **>5%**
- Note store : **>4.5/5**

---

## ğŸ’° ModÃ¨le Ã‰conomique

### Gratuit
- Profil astral
- 3 analyses cycle/mois
- Journal (7 derniers jours)
- Chat IA (10 messages/jour)
- Horoscope quotidien

### Premium (4,99â‚¬/mois)
- Analyses cycle illimitÃ©es
- Historique complet + graphiques
- Notifications intelligentes
- Chat IA illimitÃ©
- Insights avancÃ©s
- Export PDF
- Sans pub

### Premium+ (9,99â‚¬/mois)
- Tout Premium
- CompatibilitÃ© avancÃ©e
- PrÃ©dictions long terme
- Support prioritaire
- ThÃ¨mes personnalisÃ©s

---

## ğŸ¨ IdentitÃ© LUNA

### Branding
- **Nom :** LUNA - Cycle & Cosmos
- **Tagline :** "Suis ton cycle, Ã©coute les Ã©toiles"
- **Ton :** Bienveillant, poÃ©tique, concret

### Couleurs
- **Rose poudrÃ©** (#FFB6C1) - Principal
- **Rose clair** (#FFC8DD) - Titres
- **Lavande** (#C084FC) - Secondaire
- **Violet cosmique** (#8B5CF6) - Accents

### Logo
- Lune stylisÃ©e avec phases
- Palette douce
- Moderne et Ã©purÃ©

---

## ğŸ› ï¸ Stack Technique

### Frontend
- React Native 0.81.5
- Expo SDK 54
- Expo Router 6
- Zustand (state)
- AsyncStorage (local)
- **Mixpanel** (analytics) âœ¨

### Backend
- Supabase (BaaS)
- Vercel (API proxy)
- PostgreSQL + RLS

### IA
- OpenAI GPT-3.5-turbo
- Prompt spÃ©cialisÃ© cycle

### Services
- **expo-notifications** (push) âœ¨
- **react-native-chart-kit** (graphiques) âœ¨
- **Sentry** (monitoring) âœ¨

---

## ğŸ“ Nouvelle Architecture

```
app/
â”œâ”€â”€ onboarding/          âœ¨ Nouveau Sprint 9
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ welcome.js
â”‚   â”œâ”€â”€ profile-setup.js
â”‚   â”œâ”€â”€ cycle-setup.js
â”‚   â”œâ”€â”€ tour.js
â”‚   â””â”€â”€ disclaimer.js
â”‚
â”œâ”€â”€ settings/            âœ¨ Nouveau Sprint 9
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ profile.js
â”‚   â”œâ”€â”€ cycle.js
â”‚   â”œâ”€â”€ notifications.js
â”‚   â”œâ”€â”€ privacy.js
â”‚   â””â”€â”€ about.js
â”‚
â”œâ”€â”€ (tabs)/
â”‚   â”œâ”€â”€ home.js          âœ¨ Refonte Sprint 10
â”‚   â”œâ”€â”€ chat.js          âœ¨ SpÃ©cialisation Sprint 11
â”‚   â”œâ”€â”€ profile.js
â”‚
â”œâ”€â”€ cycle-astro/         âœ… Existant (Sprint 7)
â”œâ”€â”€ journal/             âœ¨ Enrichi Sprint 10
â”œâ”€â”€ dashboard/           âœ¨ Enrichi Sprint 10
â”œâ”€â”€ compatibility/       ğŸŸ¡ Secondaire
â”œâ”€â”€ parent-child/        ğŸŸ¡ ExpÃ©rimental
â”œâ”€â”€ natal-chart/         ğŸŸ¡ Secondaire
â””â”€â”€ horoscope/           ğŸŸ¡ Secondaire

lib/
â”œâ”€â”€ analytics.js         âœ¨ Nouveau
â”œâ”€â”€ exportService.js     âœ¨ Nouveau Sprint 9
â”œâ”€â”€ notificationService.js âœ¨ Nouveau Sprint 9
â”œâ”€â”€ chartDataService.js  âœ¨ Nouveau Sprint 10
â””â”€â”€ (autres services existants)

components/
â”œâ”€â”€ charts/              âœ¨ Nouveau Sprint 10
â”‚   â”œâ”€â”€ MoodCycleChart.js
â”‚   â”œâ”€â”€ EnergyCycleChart.js
â”‚   â””â”€â”€ CycleHeatmap.js
â”œâ”€â”€ TodayCard.js         âœ¨ Nouveau Sprint 10
â”œâ”€â”€ JournalCard.js       âœ¨ Nouveau Sprint 10
â””â”€â”€ WeekCard.js          âœ¨ Nouveau Sprint 10
```

---

## âœ… PrÃªt pour Sprint 9

### PrÃ©-requis installÃ©s
- [x] Node.js 18+
- [x] Expo CLI
- [x] Supabase configurÃ©
- [x] Vercel API dÃ©ployÃ©e
- [x] Git repository clean

### Packages Ã  installer Sprint 9
```bash
npm install mixpanel-react-native
npm install expo-notifications
npm install react-native-pdf-lib  # Pour export PDF
```

### Packages Ã  installer Sprint 10
```bash
npm install react-native-chart-kit
npm install react-native-svg  # DÃ©pendance charts
npm install react-native-calendars
```

### Packages Ã  installer Sprint 11
```bash
npm install @sentry/react-native
npx @sentry/wizard -i reactNative -p ios android
```

---

## ğŸ¬ Commencer Sprint 9

### Ã‰tape 1 : Installer analytics
```bash
cd /Users/remibeaurain/astroia/astroia-app
npm install mixpanel-react-native
```

### Ã‰tape 2 : CrÃ©er compte Mixpanel
1. Aller sur https://mixpanel.com
2. CrÃ©er projet "LUNA - Cycle & Cosmos"
3. Copier token projet
4. Remplacer dans `lib/analytics.js` :
   ```javascript
   const mixpanel = new Mixpanel('TON_TOKEN_ICI', true);
   ```

### Ã‰tape 3 : CrÃ©er structure Onboarding
```bash
mkdir -p app/onboarding
touch app/onboarding/index.js
touch app/onboarding/welcome.js
touch app/onboarding/profile-setup.js
touch app/onboarding/cycle-setup.js
touch app/onboarding/tour.js
touch app/onboarding/disclaimer.js
```

### Ã‰tape 4 : CrÃ©er structure Settings
```bash
mkdir -p app/settings
touch app/settings/index.js
touch app/settings/profile.js
touch app/settings/cycle.js
touch app/settings/notifications.js
touch app/settings/privacy.js
touch app/settings/about.js
```

### Ã‰tape 5 : CrÃ©er services
```bash
touch lib/exportService.js
touch lib/notificationService.js
```

### Ã‰tape 6 : Lancer dev
```bash
npm start
```

---

## ğŸ“ Checklist Avant de Commencer

- [x] âœ… Documentation complÃ¨te lue
- [x] âœ… Vision macro comprise
- [x] âœ… Sprint plan dÃ©taillÃ©
- [x] âœ… TODOs crÃ©Ã©s
- [x] âœ… Analytics setup prÃ©parÃ©
- [x] âœ… Disclaimers rÃ©digÃ©s
- [ ] ğŸ”µ Mixpanel compte crÃ©Ã©
- [ ] ğŸ”µ Token Mixpanel ajoutÃ©
- [ ] ğŸ”µ Structure Sprint 9 crÃ©Ã©e
- [ ] ğŸ”µ Premier commit Sprint 9

---

## ğŸš€ Next Steps

### Aujourd'hui (9 nov)
1. CrÃ©er compte Mixpanel
2. Ajouter token dans `lib/analytics.js`
3. CrÃ©er structure dossiers Sprint 9
4. Commit : "feat: prepare Sprint 9 - Onboarding & Settings structure"

### Lundi 11 nov (DÃ©but Sprint 9)
1. ImplÃ©menter Onboarding Ã©cran 1-2 (Welcome)
2. ImplÃ©menter Analytics tracking
3. Tests basiques

### Mardi 12 nov
1. Onboarding Ã©cran 3-4 (Profil + Cycle)
2. Settings page principale

### Mercredi 13 nov
1. Onboarding Ã©cran 5-6 (Tour + Disclaimer)
2. Settings sous-pages

### Jeudi 14 nov
1. Export service (JSON/PDF)
2. Notifications setup

### Vendredi 15 nov
1. Tests Jest complets
2. Tests Maestro

### Weekend 16-17 nov
1. QA manuelle complÃ¨te
2. Bug fixes
3. Polish UI

---

## ğŸ“ Support & Resources

### Docs
- [Expo](https://docs.expo.dev)
- [Mixpanel React Native](https://github.com/mixpanel/mixpanel-react-native)
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Supabase](https://supabase.com/docs)

### Contacts
- **Dev :** RÃ©mi Beaurain
- **Email :** [Ã€ complÃ©ter]

---

## ğŸ¯ Message Final

**Tu as maintenant tout ce qu'il faut pour transformer Astro.IA en LUNA !** ğŸŒ™

La prÃ©paration est **terminÃ©e**. La documentation est **complÃ¨te**. Le plan est **clair**.

**Il ne reste plus qu'Ã  coder. Sprint par sprint. Feature par feature.**

**Let's build something amazing! ğŸš€âœ¨**

---

> "Suis ton cycle, Ã©coute les Ã©toiles." ğŸŒ™

*PrÃ©parÃ© avec â¤ï¸ le 9 novembre 2025*

