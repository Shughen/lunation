# Flow E2E : Analyse de compatibilit√© parent-enfant
appId: com.remibeaurain.astroiaapp
---
- launchApp

# Navigation vers Parent-Enfant
- tapOn: "Parent-Enfant IA"
- assertVisible: "Analyse Compatibilit√©"
- takeScreenshot: "parent-enfant-formulaire"

# V√©rifier que le profil parent est pr√©-rempli
- assertVisible: "üë§ Parent (Vous)"
- assertVisible: "Pr√©-rempli"

# Remplir les donn√©es de l'enfant
- scroll
- assertVisible: "üë∂ Enfant"

# Signe solaire enfant
- tapOn:
    text: "Signe solaire"
    index: 1  # Deuxi√®me occurrence (enfant)
- scroll
- tapOn: "Lion"
- tapOn: "Confirmer"

# Ascendant enfant
- tapOn:
    text: "Ascendant"
    index: 1
- scroll
- tapOn: "Balance"
- tapOn: "Confirmer"

# Signe lunaire enfant
- tapOn:
    text: "Signe lunaire"
    index: 1
- scroll
- tapOn: "Poissons"
- tapOn: "Confirmer"

# Lancer l'analyse
- scroll
- tapOn: "Analyser la compatibilit√©"
- waitForAnimationToEnd
- wait: 2000  # Attendre le calcul

# V√©rification des r√©sultats
- assertVisible: ".*%.*"  # Score de compatibilit√©
- assertVisible: 
    text: "(Excellente|Tr√®s bonne|Bonne|Moyenne|Faible)"
    regex: true
- takeScreenshot: "parent-enfant-resultats"

# V√©rifier les recommandations
- scroll
- assertVisible: "Conseils"
- takeScreenshot: "parent-enfant-conseils"

# Partager le r√©sultat
- scroll
- tapOn: "Partager ce r√©sultat"
- wait: 1000
- assertVisible: "Partager"

# Retour au menu
- tapOn: "Retour au menu"
- assertVisible: "Bienvenue"

